<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:wi="http://www.itx.com.br/jsf">
    
    <ui:param name="readonly" value="#{formField.properties.readonly}" />
    
    <h:message for="#{formField.id}PanelEstruturado" style="font-weight: bold;" styleClass="property-error property-msg #{varId}ErrorClass" />
    <p:outputPanel id="#{formField.id}PanelEstruturado" binding="#{formField.component}" styleClass="#{varId}DivClass">
        <wi:editor id="#{formField.id}" 
        	value="#{formField.value}" 
        	label="#{formField.label}" 
            disabled="#{readonly}" 
            required="false" 
            showRequired="#{formField.properties.required}" 
            readonly="#{readonly}" />
    </p:outputPanel>
    <script type="text/javascript">
         (function(){
             var id = "#{varId}";
             var errorClass = $('.' + id + 'ErrorClass');
             var div = $('.' + id + 'DivClass');
             if (errorClass.length !== 0) {
                 div.addClass('property-error');
             } else {
                 div.removeClass('property-error');
             }
         })();
     </script>
</ui:composition>