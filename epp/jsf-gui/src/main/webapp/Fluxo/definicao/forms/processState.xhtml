<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:wi="http://www.itx.com.br/jsf"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:p="http://primefaces.org/ui"
    xmlns:i="http://java.sun.com/jsf/composite/infox"
    xmlns:f="http://java.sun.com/jsf/core"
>
    <rich:panel bodyClass="panel" >
        <h:form>
            <i:selectOneMenu id="cmbSubProcessName"
                label="#{infoxMessages['process.subprocess']}"
                items="#{nodeFitter.nodeHandler.processDefinitionNames}"
                value="#{nodeFitter.nodeHandler.subProcessName}" ajax="true" execute="@this"
                render="@(.startVariablesTableClass)" />
        </h:form>
        
        <p:outputPanel styleClass="startVariablesTableClass">
        	<p:outputPanel rendered="#{nodeFitter.nodeHandler.startVariablesSubProcess.size() gt 0}">
	        	<fieldset>
	        		<legend class="name">Variáveis de Início</legend>
		        	<rich:dataTable id="startVariablesTable" var="variable" value="#{nodeFitter.nodeHandler.startVariablesSubProcess}"
			           	style="width:100%;" >
			           	
			       		<h:column style="text-align:center;">
			       			<f:facet name="header">Nome</f:facet>
			       			<h:outputText value="#{variable.key}" />
			       		</h:column>
			       		
			       		<h:column style="text-align:center;">
			       			<f:facet name="header">Tipo</f:facet>
			       			<h:outputText value="#{infoxMessages[variable.value.key.label]}"/>
			       		</h:column>
			       		
			       		<h:column style="text-align:center;">
			       			<f:facet name="header">Obrigatória</f:facet>
			       			<h:outputText value="#{variable.value.value ? 'Sim' : 'Não'}" />
			       		</h:column>
			       	</rich:dataTable>
		       	</fieldset>
	       	</p:outputPanel>
        </p:outputPanel>
        
    </rich:panel>
</ui:composition>