<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:a="http://richfaces.org/a4j"
  xmlns:c="http://java.sun.com/jsp/jstl/core"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:s="http://jboss.org/schema/seam/taglib"
  xmlns:wi="http://www.itx.com.br/jsf">
  <h:outputScript
    library="js"
    name="components.js" />
  <ui:param
    name="template"
    value="#{wi:get(template, '/WEB-INF/xhtml/components/templates/edit.xhtml')}" />
  <ui:param
    name="showMaxLength"
    value="#{empty maxlength ? false : true}" />
  <ui:param
    name="maxlength"
    value="#{empty maxlength ? 0 : maxlength}" />
  <ui:param
    name="showCounter"
    value="#{empty showCounter ? true : showCounter}" />
  <s:decorate
    id="#{id}Decoration"
    template="#{template}"
    styleClass="decoration-div inputTextarea-div #{wi:get(decorationClass,'')}"
    rendered="#{wi:get(rendered, true)}">
    <ui:define name="label">#{label}</ui:define>
    <h:inputTextarea
      id="#{id}"
      styleClass="#{styleClass} input #{readonly ? 'readOnly' : ''}"
      readonly="#{readonly}"
      cols="#{empty cols ? 80 : cols}"
      rows="#{rows}"
      disabled="#{disabled}"
      required="#{required}"
      value="#{value}"
      onkeyup="counterTextarea(this,#{maxlength});">
      <ui:insert />
    </h:inputTextarea>
    <s:div id="#{id}counterDiv" rendered="#{showCounter and showMaxLength}">
      (0 / #{maxlength})
    </s:div>
  </s:decorate>
</ui:composition>
