<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:wi="http://www.itx.com.br/jsf">

    <h:form id="#{formId}"
        enctype="#{isUploadForm ? 'multipart/form-data' : 'application/x-www-form-urlencoded'}"
        acceptcharset="UTF-8">
        <a:region rendered="#{wi:get(rendered, true)}">
            <ui:param name="panelWidth" value="#{wi:get(panelWidth, '100%')}" />
            <ui:param name="collapsiblePanel" value="#{wi:get(collapsiblePanel, 'false')}" />
            <c:if test="#{not collapsiblePanel}">
	            <rich:panel styleClass="dt-form-p" bodyClass="dt-form-p-b"
	                headerClass="dt-form-p-h" header="#{empty formTitle ? formId : formTitle}">
	                <ui:insert />
	                <s:div styleClass="required-alert"
	                    rendered="#{wi:get(requiredForm,true)}">
	                    <img
	                        src="#{pathResolver.contextPath}#{layoutController.getResourceUrlByPath('/imagens/mod/balao.png')}" />
	                    <span class="required">*</span>
	                    <span>#{infoxMessages['form.required']}</span>
	                </s:div>
	            </rich:panel>
	            <div/>
	            <ui:insert name="buttons">	
	                <wi:commandButtonSave />
	                <wi:commandButtonNew />
	            </ui:insert>
            </c:if>
            <c:if test="#{collapsiblePanel}">
	            <rich:collapsiblePanel styleClass="dt-form-p" bodyClass="dt-form-p-b"
	                headerClass="dt-form-p-h" expanded="#{expandedPanelForm}" switchType="client"
	                header="#{empty formTitle ? formId : formTitle}" >
	                <ui:insert />
	                <s:div styleClass="required-alert"
	                    rendered="#{wi:get(requiredForm,true)}">
	                    <img
	                        src="#{pathResolver.contextPath}#{layoutController.getResourceUrlByPath('/imagens/mod/balao.png')}" />
	                    <span class="required">*</span>
	                    <span>#{infoxMessages['form.required']}</span>
	                </s:div>
	                <div/>
		            <ui:insert name="buttons">
		                <wi:commandButtonSave />
		                <wi:commandButtonNew />
		            </ui:insert>
	            </rich:collapsiblePanel>
            </c:if>
        </a:region>
    </h:form>
</ui:composition>
