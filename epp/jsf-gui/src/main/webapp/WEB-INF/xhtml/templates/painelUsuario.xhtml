<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: menu.xhtml 750 2010-08-24 14:10:58Z danielsilva $ -->
<ui:composition
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:a="http://richfaces.org/a4j"
  xmlns:c="http://java.sun.com/jsp/jstl/core"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:s="http://jboss.org/schema/seam/taglib"
  xmlns:wi="http://www.itx.com.br/jsf">
  <ui:param
    name="selectable"
    value="#{authenticator.usuarioPerfilListItems.size() gt 1}" />
  <div class="painelUsuario">
    <c:if test="#{selectable}">
      <h:form id="papeisUsuarioForm">
        <wi:selectOneMenu
          value="#{authenticator.usuarioPerfilAtualCombo}"
          id="usuarioPerfil"
          template="/WEB-INF/xhtml/components/templates/display.xhtml"
          valueItems="#{authenticator.usuarioPerfilListItems}"
          label="#{usuarioLogado}"
          labelClass="painelUsuario-label"
          valueClass="painelUsuario-select"
          styleClass="usuario-perfil">
          <a:ajax
            event="change"
            limitRender="true"
            status=":status"
            render="@form"
            onbegin="infox.showLoading();"
            oncomplete="infox.hideLoading();"
            execute="@this" />
        </wi:selectOneMenu>
        <div/>
      </h:form>
    </c:if>
    <c:if test="#{not selectable}">
      <h:outputText
        styleClass="painelUsuario-label"
        value="#{usuarioLogado}" />
      <h:outputText value="#{authenticator.usuarioPerfilAtualSingle}" />
    </c:if>
  </div>
</ui:composition>
