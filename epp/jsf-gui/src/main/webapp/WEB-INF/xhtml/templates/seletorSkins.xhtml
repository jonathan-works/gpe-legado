<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: menu.xhtml 750 2010-08-24 14:10:58Z danielsilva $ -->
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:wi="http://www.itx.com.br/jsf"
>
    <div style="display: inline-block">
        <h:form
            rendered="#{wi:get(mostrarMenu, identity.loggedIn and !usuarioLogado.provisorio)}"
        >
            <h:graphicImage
                styleClass="palette-img-inpt"
                url="#{layoutController.getResourceUrlByPath('/imagens/mod/palette.png')}"
                onclick="#{rich:component(id.concat('-skinPanel'))}.show()"
            />
            <h:commandButton
                styleClass="palette-img-inpt"
                action="#{skinZoom.setTmNormal()}"
                image="#{layoutController.getResourceUrlByPath('/imagens/zoom-normal.png')}"
            />
            <h:commandButton
                styleClass="palette-img-inpt"
                action="#{skinZoom.setTmMedio()}"
                image="#{layoutController.getResourceUrlByPath('/imagens/zoom-medio.png')}"
            />
            <h:commandButton
                styleClass="palette-img-inpt"
                action="#{skinZoom.setTmGrande()}"
                image="#{layoutController.getResourceUrlByPath('/imagens/zoom-grande.png')}"
            />
        </h:form>
    </div>
    <rich:popupPanel
        id="#{id}-skinPanel"
        height="100"
    >
        <f:facet name="header">#{infoxMessages['skin.title']}</f:facet>
        <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage
                    value="#{layoutController.getResourceUrlByPath('/imagens/closeMP.gif')}"
                    onclick="#{rich:component(id.concat('-skinPanel'))}.hide()"
                />
            </h:panelGroup>
        </f:facet>
        <s:decorate
            template="/WEB-INF/xhtml/components/templates/edit.xhtml"
        >
            <ui:define name="label">
                <h:outputText
                    value="#{infoxMessages['skin.choice']}"
                    styleClass="label"
                />
            </ui:define>
            <h:form>
                <h:selectOneMenu
                    value="#{wiSkin.skin}"
                    styleClass="PaletteMenu input select"
                    onchange="this.form.submit()"
                >
                    <f:selectItems value="#{wiSkin.skinList}" />
                </h:selectOneMenu>
            </h:form>
        </s:decorate>
    </rich:popupPanel>
</ui:composition>
